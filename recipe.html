<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Recipe - Krave Kitchen</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2C4F4F">

  <!-- Google icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navbar -->
  <nav>
    <div class="nav-wrapper teal">
      <a href="index.html" class="brand-logo">Krave Kitchen</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="recipes.html">Recipes</a></li>
        <li><a href="add.html">Add Recipe</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
    </div>
  </nav>

  <!-- Single recipe container -->
  <div class="container" style="margin-top: 30px;">
    <h4 id="recipe-title">Recipe Name</h4>
    <img id="recipe-img" src="" alt="" class="responsive-img" style="margin-bottom: 20px;">

    <h5>Ingredients</h5>
    <ul id="recipe-ingredients"></ul>

    <h5>Instructions</h5>
    <ol id="recipe-instructions"></ol>

    <a href="recipes.html" class="btn teal">Back to Recipes</a>
  </div>

  <!-- Materialize JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <!-- Dynamic recipe content -->
  <script>
    const recipes = {
      spaghetti: {
        title: "Spaghetti",
        img: "images/spaghetti.jpg",
        ingredients: [
          "200g spaghetti",
          "1 cup tomato sauce",
          "1/2 cup grated cheese",
          "Salt and pepper to taste"
        ],
        instructions: [
          "Boil spaghetti according to package instructions.",
          "Heat tomato sauce in a pan.",
          "Mix spaghetti with sauce and sprinkle cheese on top.",
          "Serve hot and enjoy!"
        ]
      },
      pancakes: {
        title: "Pancakes",
        img: "images/pancakes.jpg",
        ingredients: [
          "1 cup flour",
          "2 tbsp sugar",
          "1 tsp baking powder",
          "1 cup milk",
          "1 egg",
          "Butter for cooking"
        ],
        instructions: [
          "Mix dry ingredients together.",
          "Add milk and egg, mix until smooth.",
          "Heat butter in pan, pour batter, cook until golden.",
          "Flip and cook the other side. Serve warm."
        ]
      },
      cheesecake: {
        title: "Cheesecake",
        img: "images/cheesecake.jpg",
        ingredients: [
          "200g digestive biscuits",
          "100g butter",
          "400g cream cheese",
          "150g sugar",
          "2 eggs",
          "1 tsp vanilla extract"
        ],
        instructions: [
          "Crush biscuits and mix with melted butter. Press into pan.",
          "Beat cream cheese with sugar, add eggs and vanilla.",
          "Pour filling onto crust and bake at 325 degrees for 45 minutes.",
          "Cool, chill in fridge, then serve."
        ]
      }
    };

    // Get recipe ID from URL (?id=spaghetti etc.)
    const params = new URLSearchParams(window.location.search);
    const recipeId = params.get('id') || 'spaghetti';
    const recipe = recipes[recipeId];

    // Populate page
    document.getElementById('recipe-title').textContent = recipe.title;
    const imgEl = document.getElementById('recipe-img');
    imgEl.src = recipe.img;
    imgEl.alt = recipe.title;

    const ingEl = document.getElementById('recipe-ingredients');
    recipe.ingredients.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item;
      ingEl.appendChild(li);
    });

    const instrEl = document.getElementById('recipe-instructions');
    recipe.instructions.forEach(step => {
      const li = document.createElement('li');
      li.textContent = step;
      instrEl.appendChild(li);
    });
  </script>

  <!-- Register service worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('Service Worker registered!', reg))
          .catch(err => console.log('Service Worker failed:', err));
      });
    }
  </script>

</body>
</html>
